## 데이터베이스 설계

사용자의 요구를 분석하여 그것들을 컴퓨터에 저장할 수 있는 데이터베이스의 구조에 맞게 변형한 후 특정 DBMS로 데이터베이스를 구현하여 일반 사용자들이 사용하게 하는 것

### 설계 순서

#### 1. 요구 조건 분석

데이터 베이스를 사용할 사람들로부터 필요한 용도를 파악하는 것

- 테이터베이스 사용자에 따른 수행 업무와 필요한 데이터의 종류, 용도, 처리 형태, 흐름, 제약 조건 등을 수집
- 수집된 정보를 바탕으로 요구 조건 명세를 작성

#### 2. 개념적 설계(정보 모델링, 개념화)

정보의 구조를 얻기 위하여 현실 세계의 무한성과 계속성을 이해하고, 다른 사람과 통신하기 위하여 현실 세계에 대한 인식을 추상적 개념으로 표현하는 과정

- 개념적 설계 단계에서는 개념 스키마 모델링과 트랜잭션 모델링을 병행 수행한다
- 요구 분석 단계에서 나온 결과인 요구 조건 명세를 DBMS에 독립적인 E-R 다이어그램으로 작성
- DBMS에 독립적인 개념 스키마를 설계

#### 3. 논리적 설계(데이터 모델링)

현실 세계에서 발생하는 자료를 컴퓨터가 이해하고 처리할 수 있는 물리적 저장장치에 저장할 수 있도록 변환하기 위해 특정 DBMS가 지원하는 놀리적 자료 구조로 변환시키는 과정

- 개념 세계의 데이터를 필드로 기술된 데이터 타입과 이 데이터 타입들 간의 관계로 표현되는 논리적 구조의 데이터로 모델화
- 개념적 설계가 개념 스키마를 설계하는 단계라면,  
  논리적 설계는 개념 스키마를 평가 및 정제하고 DBMS에 따라 서로 다른 논리적 스키마를 설계하는 단계
- 트랜잭션의 인터페이스를 설계
- 관계형 데이터베이스라면 테이블을 설계하는 단계

#### 4. 물리적 설계(데이터 구조화)

논리적 설계 단계에서 논리적 구조로 표현된 데이터를 디스크 등의 물리적 저장장치에 저장할 수 있는 물리적 구조의 데이터로 변환하는 과정

- 물리적 설계 단계에서는 다양한 데이터베이스 응용에 대해 처리 성능을 얻기 위해 데이터베이스 파일의 저장 구조 및 액세스 경로를 결정
- 저장 레코드의 양식, 순서, 접근 경로, 조회가 집중되는 레코드와 같은 정보를 사용하여 데이터가 컴퓨터에 저장되는 방법을 묘사
- 물리적 설계 시 고려할 사항: 트랜잭션 처리량, 응답 시간, 디스크 용량, 저장 공간의 효율성 등

#### 5. 구현

논리적 설계 단계와 물리적 설계 단계에서 도출된 데이터베이스 스키마를 파일로 생성하는 과정

- 사용하려는 특정 DBMS의 DDL(데이터 정의어)을 이용하여 데이터베이스 스키마를 기술한 후 컴파일하여 빈 데이터베이스 파일을 생성
- 생성된 빈 데이터베이스 파일에 데이터를 입력
- 응용 프로그램을 위한 트랜잭션을 작성
- 데이터베이스 접근을 위한 응용 프로그램을 작성

---

### 데이터베이스 설계 예시 - 도서대여점

#### 1. 요구사항 분석

목적: 도서 대여점 운영을 위한 데이터베이스 구축

주요 기능: 도서 관리, 회원 관리, 대여 관리

주요 사용자: 직원(관리자), 회원

    요구사항 명세서

    도서 정보: 제목, 저자, 출판사, 출판년도, ISBN, 장르, 위치, 대여 상태
    회원 정보: 회원 번호, 이름, 연락처, 이메일, 주소
    대여 정보: 대여 번호, 회원 번호, 도서 ISBN, 대여 날짜, 반납 날짜

#### 2. 개념적 설계

> ER 다이어그램을 생성

엔터티: 도서, 회원, 대여

관계: 회원은 여러 도서를 대여할 수 있음, 도서는 한 번에 하나의 대여 기록만 가질 수 있음

    ER 다이어그램

    도서(Entity)
        [제목, 저자, 출판사, 출판년도, ISBN(기본 키), 장르, 위치, 대여 상태]

    회원(Entity)
        [회원 번호(기본 키), 이름, 연락처, 이메일, 주소]

    대여(Entity)
        [대여 번호(기본 키), 회원 번호(외래 키), 도서 ISBN(외래 키), 대여 날짜, 반납 날짜]

#### 3. 논리적 설계

> 테이블, 테이블 간의 관계, 속성의 데이터 타입을 정의

도서 테이블: ISBN, 제목, 저자, 출판사, 출판년도, 장르, 위치, 대여 상태

회원 테이블: 회원 번호, 이름, 연락처, 이메일, 주소

대여 테이블: 대여 번호, 회원 번호, ISBN, 대여 날짜, 반납 날짜

    논리적 설계 명세서

    테이블 정의: 각 테이블의 필드와 데이터 타입, 기본 키와 외래 키
    관계 정의: 테이블 간 관계 설명

#### 4. 물리적 설계

> 실제 데이터베이스의 저장 구조를 설계  
> 인덱스 구조, 저장 파일의 구성, 보안 및 접근 제어 방법을 결정

인덱스: 도서 ISBN, 회원 번호, 대여 번호에 인덱스 적용

저장 파일 구성: 테이블 별로 별도의 저장 파일 할당

보안: 사용자 권한에 따라 데이터 접근 제어

    물리적 설계 명세서

    인덱스 구조: 각 인덱스의 필드 및 인덱스 유형
    파일 저장 구조: 파일 분할, 저장 위치
    보안 정책: 사용자 인증 방식, 데이터 암호화 및 접근 제어 리스트 설정

#### 5. 구현

> 물리적 설계를 완료한 후 실제 데이터베이스를 구현  
> 데이터베이스 관리 시스템(DBMS)을 사용하여  
> 테이블을 생성하고, 인덱스를 설정하며, 보안 정책을 적용

- 테이블 생성: 도서, 회원, 대여 테이블을 생성하고, 각 테이블의 속성에 맞는 데이터 타입과 제약 조건을 적용
- 인덱스 설정: 검색 성능 향상을 위해 도서의 ISBN, 회원의 회원 번호, 대여의 대여 번호에 인덱스를 생성
- 보안 정책 적용: 사용자별로 데이터베이스 접근 권한을 설정하고, 중요 정보는 암호화하여 저장

**도서 테이블**

```sql
CREATE TABLE Books (
    ISBN VARCHAR(13) PRIMARY KEY,
    Title VARCHAR(100) NOT NULL,
    Author VARCHAR(100),
    Publisher VARCHAR(100),
    YearPublished YEAR,
    Genre VARCHAR(50),
    Location VARCHAR(50),
    Status VARCHAR(20)
);
```

**회원 테이블**

```sql
CREATE TABLE Members (
    MemberID INT AUTO_INCREMENT PRIMARY KEY,
    Name VARCHAR(100) NOT NULL,
    Phone VARCHAR(20),
    Email VARCHAR(100),
    Address VARCHAR(255)
);
```

**대여 테이블**

```sql
CREATE TABLE Rentals (
    RentalID INT AUTO_INCREMENT PRIMARY KEY,
    MemberID INT,
    ISBN VARCHAR(13),
    RentalDate DATE,
    ReturnDate DATE,
    FOREIGN KEY (MemberID) REFERENCES Members(MemberID),
    FOREIGN KEY (ISBN) REFERENCES Books(ISBN)
);
```
